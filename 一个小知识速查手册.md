# 一个小知识速查手册

## 策略

### Calico策略

Kubernetes网络策略是用网络插件实现的，而不是Kubernetes自己搞的。如果只创建了一个网络策略资源，但是没有实现它的网络插件，那就没什么卵用。

Calico插件实现了Kubernetes网络策略的全部特性。此外，Calico还支持Calico网络策略，提供超越Kubernetes网络策略的额外特性和功能。Kubernetes和Calico网络策略可以无缝配合，这样你就可以选择适合你的选项，混起来用，达到你要的效果。

## IPAM

### Calico IPAM

Kubernetes如何为Pod分配IP地址，由使用的IPAM（IP地址管理）插件决定。

Calico的IPAM插件按需为节点分配小块的IP地址，在整体上提供IP地址空间的可用性。此外，Calico IPAM支持高级特性，例如IP池，还可以为命名空间或Pod指定IP地址范围，甚至指定Pod的IP地址。

## CNI

### Calico CNI

Kubernetes使用CNI（容器网络接口）插件来决定Pod连接底层网络的具体细节。Calico CNI插件将Pod通过L3路由连接到主机网络，无需L2桥接。这种方式既简单又好理解，而且比一般其它的方法更高效，比如kubenet或flannel。

## Overlay

### VXLAN Overlay

Overlay网路允许Pod间进行跨节点通信，而且底层网络无需感知Pod或Pod的IP地址。

不同节点上Pod之间的数据包用VXLAN进行封装，将每一个原始数据包裹在一个外部数据包中，然后使用节点的IP，将Pod的IP隐藏在内部数据包中。Linux内核可以非常高效地完成这个事儿，但仍然带来了一个较小的开销，如果是运行一些对网络敏感的工作负载，你可能想要避免这种开销。

出于知识的完整性，作为对比，如果不使用overlay，那就能达到最高的网络性能。从你的Pod中出来的数据包就是网络上传输的数据包。

## 路由

### Calico路由

