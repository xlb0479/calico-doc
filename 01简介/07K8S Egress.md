# K8S Egress

> 这里包含了一些相关的背景知识，不仅限于Calico。

在这里你会了解到：

- 什么是K8S的Egress？
- 为什么要限制出口流量，如何做到？
- 什么是“NAT outgoing”，什么时候用到？
- 什么是egress网关，为什么要用它？

## 什么是K8S的Egress？

这里我们用K8S的Egress来描述那些从Pod向集群外任意一点发起的连接。

与入口流量不同，K8S有[Ingress](06K8S%20Ingress.md)资源来管理入口流量，但是并没有K8S Egress资源。出口流量在处理的时候是根据集群使用的K8S网络实现/CNI插件，在网络层面进行处理的，如果用了服务网格，那么就是在这些网络实现之上添加出口行为。

关于出口流量有这么三大块需要了解的地方，所以你可以根据自己的需要来选择网络和/或服务网格：

- 限制出口流量
- Outgoing NAT行为
- 出口网关

## 限制出口流量

常见的安全需求和最佳实践就是要限制从集群内向外发出的连接。通常是使用[网络策略](04网络策略.md)为每个微服务定义出口规则来实现这一点，而且通常是搞一个[默认拒绝](04网络策略.md#默认拒绝)的策略，保证所有的外出连接默认都是被拒绝的，直到增加明确的允许外出流量的策略。

